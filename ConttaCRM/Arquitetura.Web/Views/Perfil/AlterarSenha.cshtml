@model UsuarioDTO

<div class="row">
    <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
        <h1 class="page-title txt-color-blueDark">
            <!-- PAGE HEADER -->
            <i class="fa-fw fa fa-user"></i>
            Perfil
            <span>
                >
                Alterar Senha
            </span>
        </h1>
    </div>
</div>

@Html.Partial("_Mensagens")

@if (ViewBag.Sucesso == true)
{
    <script type="text/javascript">
        MensagemSucesso('Senha alterada com sucesso!');
    </script>
}


<div class="box-content">

    @using (Ajax.BeginForm("AlterarSenha", "Perfil", null, new AjaxOptions { UpdateTargetId = "page-content", InsertionMode = InsertionMode.Replace, HttpMethod = "Post", OnFailure = "OnFailure", OnSuccess = "OnSuccess" }, new { @class = "smart-form" }))
    {
        @Html.ValidationSummary(true)
        @Html.AntiForgeryToken()
        <fieldset>
            <legend>Usuário</legend>
            <div>
                <section>
                    <label for="Nome" class="label">Nome do Usuário</label>
                    <div class="input">
                        @Html.TextBoxFor(model => model.Nome, new { @readonly = "readonly" })
                    </div>
                </section>
            </div>
        </fieldset>
        
        <fieldset>
            <legend>Alterar Senha</legend>
            <div class="row">
                <section class="col col-3">
                    <label for="SenhaAtual" class="label">Senha Atual</label>
                    <div class="input">
                        <i class="icon-append fa fa-lock"></i>
                        @Html.Password("SenhaAtual", null)
                    </div>
                </section>
            </div>
            <div class="row">
                <section class="col col-3">
                    <label for="NovaSenha" class="label">Nova Senha</label>
                    <div class="input">
                        <i class="icon-append fa fa-lock"></i>
                        @Html.Password("NovaSenha", null)
                    </div>
                </section>
            </div>
            <div class="row">
                <section class="col col-3">
                    <label for="ConfirmaNovaSenha" class="label">Confirme a Nova Senha</label>
                    <div class="input">
                        <i class="icon-append fa fa-lock"></i>
                        @Html.Password("ConfirmaNovaSenha", null)
                    </div>
                </section>
            </div>
        </fieldset>

        <footer>
            <button type="submit" class="btn btn-primary btn-submit" data-loading-text="Salvar..."><i class="fa fa-save"></i> Salvar</button>
        </footer>
    }
</div>
<script src="@Url.Content("~/Scripts/views/perfilAlterarSenha.js")" type="text/javascript"></script>

